# 메모리 관리

## Command

### free

- 시스템의 총 메모리의 양과 사용중인 메모리의 양을 확인

```
              total        used        free      shared  buff/cache   available
Mem:        4030168     3449404      185228       46696      395536      244192
Swap:       2009084      260832     1748252
```

### 사용량

커널또는 프레세스용 메모리의 사용량이 늘어날 수록 free(available)에 영역이 줄어든다
free(available)영역이 사용할 공간이 없는 경우 해제가능 영역을 해제 한다

### 프레임워크 OS접근 방법

자바는 OS의 메모리 영역에 직접적으로 접근하지 않고 JVM이라는 가상 머신을 이용해서 간접적으로 접근한다

#### Rails는?

HEAP

PAGE

Slot

## GC ( Garbage Collection )

### Rails 
Ruby도 오브젝트를 모아서 삭제해주기 때문에 신경쓰지 않아도 된다
malloc, free등을 엔지니어가 신경쓰지 않아도 된다

#### malloc
#### free

#### 알고리즘

Mark & Sweep라는 알고리즘을 사용하고 있다

##### 1. Mark

- 사용중인 오브젝트에서 참조하고 있는 오브젝트의 플러그를 붙인다

##### 2. Sweep

- 어디에서도 참조가 없는(= 사용되어 있지 않는) 오브젝를 해방한다

## Swapping

### 역할

- 메모리의 관리를 위해 사용되는 기법
- 메모리에 적재되어 있으나 현재 사용되지 않고 있는 프로세스를 관리하는 역할


# 메모리 관리 방법

## 연속 메모리 할당

### 최초 적합
### 최적 적합
### 최악 적합

## 페이징

- 하나의 프로세스가 사용하는 메모리 공간이 연속적이어야 한다는 제약을 없애는 메모리 관리 방법

## 세크먼테이션

- 페이징에서처럼 논리 메모리와 물리 메모리를 같은 크기의 블록이 아닌, 서로 다른 크기의 논리적 단위인 세그먼트

#### 내부 단편화

### 단점

#### 외부 단편화

## 메모리 풀

- 필요한 메모리 공간을 필요한 크기, 개수 만큼 사용자가 직접 지정하여 미리 할당받아 놓고 필요할 때마다 사용하고 반납하는 기법
